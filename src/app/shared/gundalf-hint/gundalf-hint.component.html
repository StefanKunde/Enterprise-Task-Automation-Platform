<div
  *ngIf="isVisible"
  [ngStyle]="positionStyle"
  class="hidden md:flex z-[999] items-end"
  [ngClass]="{
    'left-4 flex-row': position === 'left',
    'right-4 flex-row-reverse': position === 'right'
  }"
  [class.animate-fly-in]="!isFlyingOut"
  [class.animate-fly-out-fast]="isFlyingOut"
>
  <!-- ğŸ’¬ Textbox -->
  <div
    class="gundalf-card w-full max-w-[220px] px-3 py-2 rounded-lg border border-[#2f3f4a] bg-[#11191f]/90 text-white shadow-xl backdrop-blur-md text-sm transition-all duration-300"
    [ngClass]="{
      'opacity-0': !showText,
      'opacity-100': showText,
      'mr-2': position === 'left',
      'ml-2': position === 'right'
    }"
    style="transform: translateY(-20px);"
    (mouseenter)="onHoverStart()"
    (mouseleave)="onHoverEnd()"
  >
    <p class="text-[13px] leading-snug break-words">{{ message }}</p>
  </div>

  <!-- ğŸ§™ Gandalf -->
  <img
    src="assets/characters/gundalf-hint.png"
    alt="Gundalf"
    class="h-20 select-none pointer-events-none transition-transform duration-500"
    [style.transform]="position === 'right' ? 'scaleX(-1)' : 'scaleX(1)'"
  />
</div>
